create database BCDatabase;
use BCDatabase;

create table _users(
user_id bigint primary key auto_increment NOT NULL,
username varchar (255) NOT NULL,
fname varchar (255) NOT NULL,
lname varchar (255) NOT NULL,
password varchar (500) NOT NULL,
email varchar (255) NOT NULL,
phone_num bigint NULL
);

create table _roles(
role_id bigint primary key auto_increment NOT NULL,
role_name varchar (255) NOT NULL
);

create table users_roles(
users_roles_id bigint primary key auto_increment NOT NULL,
user_id bigint NOT NULL,
role_id bigint DEFAULT 1 NOT NULL,
constraint fk_users
foreign key (user_id) references _users(user_id),
constraint fk_roles
foreign key (role_id) references _roles(role_id)
);

create table _wallet (
wallet_id bigint primary key auto_increment NOT NULL,
user_id bigint NOT NULL,
amount DECIMAL(10, 2) DEFAULT 0 NOT NULL,
constraint fk_user
foreign key (user_id) references _users(user_id)
);

create table _sellerupload (
file_id bigint primary key auto_increment NOT NULL,
user_id bigint NOT NULL,
art_title varchar (550) NOT NULL,
checksum varchar (550) NOT NULL,
date_time datetime NOT NULL,
pathdirectory varchar (550) NOT NULL,
constraint fk_sellerid
foreign key (user_id) references _users(user_id)
);

create table _friendsystem (
connected_id bigint primary key auto_increment NOT NULL,
Muser_id bigint NOT NULL,
Fuser_id bigint NOT NULL,
status int NOT NULL,
dateconnected date,
constraint fk_mainuser
foreign key (Muser_id) references _users(user_id),
constraint fk_frienduser
foreign key (Fuser_id) references _users(user_id)
);

create table _invitesystem (
invited_id bigint primary key auto_increment NOT NULL,
Cuser_id bigint NOT NULL,
Iuser_id bigint NOT NULL,
status int NOT NULL,
dateinvited date,
constraint fk_currentuser
foreign key (Cuser_id) references _users(user_id),
constraint fk_inviteduser
foreign key (Iuser_id) references _users(user_id)
);


//Admin Account
insert into _users(username,fname,lname,password,email,phone_num)
Values
("1admin","Russel","Domingo","russelalan","alanrussel@gmail.com","09974324433"),
("2admin","Patrick","Maraan","patrick","patrick@gmail.com","09974421533");
//Assigning Roles
insert into users_roles (user_id,role_id)
Values
("1","2"),
("2","2");
//Roles
insert into _roles (role_name)
values
("User"),
("Admin");


